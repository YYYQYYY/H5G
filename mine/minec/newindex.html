<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <title>ABC</title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="HandheldFriendly" content="true">
    <link rel="stylesheet" href="static/css/newmine.css"/>
</head>
<body>

<div id="dlgBg"></div>

<div id="login">
    <h1>登陆</h1>
    <div class="box">
        <input type="text" id="nickname" maxlength="10" class="in" placeholder="请输入昵称">
        <input type="button" id="loginBtn" class="go" value="加入游戏">
    </div>
</div>

<div id="main">

    <section id="tab_list">
        <a id="tab_game_piazza" href="javascript:" class="on">大厅</a>
        <a id="tab_game_room" href="javascript:">房间</a>
    </section>

    <section id="game_piazza">

        <div id="user_list" class="user_list">
            <ul id="user_list_ul">
                <li id="room_user-99">
                    <div>
                        <span>游戏中</span>
                        <img style="min-height: 60%;max-height: 60%;" src="static/images/room/player_yes.gif">
                        <span>abc99</span>
                    </div>
                </li>
            </ul>
        </div>

        <div id="room_list" class="room_list"></div>

        <div class="piazza_message">
            <div id="piazza_message_list" class="piazza_message_list"></div>
            <div id="piazza_chat" class="input">
                <label for="piazza_send_range"></label>
                <select id="piazza_send_range" style="width:10%;margin:5px 0 0 8px">
                    <option value="">所有人</option>
                </select>
                <input id="piazza_chat_input" style="width:70%;margin:5px 0 0 0" type="text" placeholder="点击这里输入消息">
                <input id="piazza_chat_button" style="width:10%;margin:5px 0 0 0" type="button" value="发送">
            </div>
        </div>

    </section>

    <section id="game_room" style="display: none;">

        <div class="user_list">
            <div id="room_user_list" style="float: left;">
                <ul>
                    <li>
                        <div>
                            <span id="room_p1_status">游戏中</span>
                            <img id="room_p1_img" style="min-height: 60%;max-height: 60%;"
                                 src="static/images/room/player_yes.gif">
                            <span id="room_p1_nickname">abc99</span>
                        </div>
                    </li>
                    <li>
                        <div>
                            <span id="room_p2_status">游戏中</span>
                            <img id="room_p2_img" style="min-height: 60%;max-height: 60%;"
                                 src="static/images/room/player_yes.gif">
                            <span id="room_p2_nickname">abc99</span>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="room_button">
                <input type="button" id="game_ready" class="btn" value="准备"><br/>
                <input type="button" id="game_leave" class="btn" value="退出">
            </div>
        </div>

        <div class="room_cell">
            <section id="page">
                <header>
                    <p>使用时间：<span id="elapsed_time"
                                  style="display: inline-block; width: 30px;text-align: right">0</span>
                        剩余雷数：<span id="residual_mines"
                                   style="display: inline-block;width: 30px;text-align: right">46</span>
                        得分：<span id="score" style="display: inline-block;width: 30px;text-align: right">0</span>
                    </p>

                </header>
                <hr>
                <section id="layers" style="width: 400px; height: 400px;">
                    <canvas id="bg" width="400" height="400" style="border: 1px solid black;">
                        你的浏览器不支持HTML5。
                    </canvas>
                    <canvas id="game" width="400" height="400"></canvas>
                </section>
                <hr>
                <footer>
                    <p>扫雷游戏练习。</p>
                </footer>
            </section>
        </div>

        <div class="room_message">
            <div id="room_message_list" class="room_message_list">
                <p>abc98: 54564654</p>
                <p>abc97: 456456</p>
            </div>
            <div id="room_chat" class="input">
                <label for="room_send_range"></label>
                <select id="room_send_range" style="width:10%;margin:5px 0 0 8px">
                    <option value="">所有人</option>
                </select>
                <input id="room_chat_input" style="width:70%;margin:5px 0 0 0" type="text" placeholder="点击这里输入消息">
                <input id="room_chat_button" style="width:10%;margin:5px 0 0 0" type="button" value="发送">
            </div>
        </div>

    </section>

</div>
<script type="text/javascript" src="http://localhost:1337/socket.io/socket.io.js"></script>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript" src="static/js/mineCore.js"></script>
<script type="text/javascript" src="static/js/newminec.js"></script>
<script type="text/javascript">
    /**
     * 当dom加载完成时，或者 屏幕垂直、水平方向有改变进行html的根元素计算
     */
    !function (doc, win) {
//        const docEl = doc.documentElement,
//                resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
//                recalc = function () {
//                    let clientWidth = docEl.clientWidth;
//                    if (!clientWidth) return;
//                    if (clientWidth > 750) clientWidth = 750;
//                    docEl.style.fontSize = 20 * (clientWidth / 320) + 'px';
        console.log(
                "clientWidth:" + document.documentElement.clientWidth +
                "\t\tclientHeight:" + document.documentElement.clientHeight +
                "\t\tfontSize:" + document.documentElement.style.fontSize
        );
//                };
//        if (!doc.addEventListener) return;
//        win.addEventListener(resizeEvt, recalc, false);
//        doc.addEventListener('DOMContentLoaded', recalc, false);
    }(document, window);

    //    /**
    //     * 切换窗口
    //     */
    //    $("#tab_list a").click(function () {
    //        var id = $(this)[0].id;
    //        if ($(this).hasClass('on')) {
    //            return false;
    //        }
    //
    //        if (g_Info.roomIdx == -1) {
    //            alert("您还没有加入房间");
    //            return false;
    //        }
    //
    //        changeTab(id);
    //        return false;
    //    });
    //
    //    /**
    //     * 切换大厅与房间
    //     * @param id
    //     */
    //    function changeTab(id) {
    //        if (id == "tab_game_piazza") {
    //            $("#game_piazza").show();
    //            $("#tab_game_piazza").addClass("on");
    //            $("#game_room").hide();
    //            $("#tab_game_room").removeClass("on");
    //        } else if (id == "tab_game_room") {
    //            $("#game_room").show();
    //            $("#tab_game_room").addClass("on");
    //            $("#game_piazza").hide();
    //            $("#tab_game_piazza").removeClass("on");
    //        }
    //    }

    //////////////////////////////////////////
    //    var canvas = document.getElementById("game");
    //    var ctx = canvas.getContext("2d");
    //    ctx.fillRect(0, 0, canvas.width, canvas.height);
    //
    //    $("tab_game_room").click();
</script>
</body>
</html>
